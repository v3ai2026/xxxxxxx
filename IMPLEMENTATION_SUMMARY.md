# ğŸ›ï¸ å®Œæ•´åå°ç®¡ç†ç³»ç»Ÿå®ç° - åŠŸèƒ½æ¸…å•

## âœ… å·²å®ŒæˆåŠŸèƒ½

### ğŸ—ï¸ æ ¸å¿ƒåŸºç¡€è®¾æ–½

#### 1. æ•°æ®åº“æ¶æ„ (Supabase PostgreSQL)
- âœ… **12å¼ æ ¸å¿ƒæ•°æ®è¡¨**å®Œæ•´è®¾è®¡
  - `user_profiles` - ç”¨æˆ·èµ„æ–™æ‰©å±•
  - `projects` - é¡¹ç›®ç®¡ç†
  - `project_files` - é¡¹ç›®æ–‡ä»¶å­˜å‚¨
  - `deployments` - éƒ¨ç½²è®°å½•
  - `subscriptions` - è®¢é˜…ç®¡ç†
  - `payments` - æ”¯ä»˜è®°å½•
  - `usage_metrics` - ä½¿ç”¨ç»Ÿè®¡
  - `teams` - å›¢é˜Ÿç®¡ç†
  - `team_members` - å›¢é˜Ÿæˆå‘˜
  - `api_keys` - APIå¯†é’¥
  - `activity_logs` - æ´»åŠ¨æ—¥å¿—
  - `gitee_repos` - Giteeä»“åº“é›†æˆ

- âœ… **Row Level Security (RLS)** æ‰€æœ‰è¡¨å¯ç”¨
- âœ… **è‡ªåŠ¨è§¦å‘å™¨** updated_at å­—æ®µè‡ªåŠ¨æ›´æ–°
- âœ… **æ€§èƒ½ä¼˜åŒ–ç´¢å¼•** å…³é”®æŸ¥è¯¢å­—æ®µç´¢å¼•

#### 2. è®¤è¯ç³»ç»Ÿ (Supabase Auth)
- âœ… é‚®ç®±/å¯†ç æ³¨å†Œç™»å½•
- âœ… OAuth é›†æˆ (Google, GitHub)
- âœ… Session ç®¡ç†
- âœ… ç”¨æˆ·çŠ¶æ€ç®¡ç† (Zustand)
- âœ… å—ä¿æŠ¤è·¯ç”±
- âœ… è‡ªåŠ¨ä»¤ç‰Œåˆ·æ–°

#### 3. çŠ¶æ€ç®¡ç†
- âœ… **Zustand** - å…¨å±€è®¤è¯çŠ¶æ€
- âœ… **TanStack Query** - æœåŠ¡å™¨çŠ¶æ€å’Œç¼“å­˜
- âœ… è‡ªåŠ¨é‡æ–°è·å–å’Œæ›´æ–°
- âœ… ä¹è§‚æ›´æ–°

### ğŸ’³ æ”¯ä»˜ç³»ç»Ÿ (Stripe)

#### å®šä»·æ–¹æ¡ˆ
- âœ… **Free Plan** - $0/æœˆ
  - 3ä¸ªé¡¹ç›®
  - 100 AIç”Ÿæˆ/æœˆ
  - åŸºç¡€éƒ¨ç½²
  
- âœ… **Pro Plan** - $29/æœˆ
  - æ— é™é¡¹ç›®
  - 1000 AIç”Ÿæˆ/æœˆ
  - é«˜çº§AIæ¨¡å‹
  - å›¢é˜Ÿåä½œ(5äºº)
  
- âœ… **Enterprise Plan** - $99/æœˆ
  - 5000 AIç”Ÿæˆ/æœˆ
  - æ— é™å›¢é˜Ÿæˆå‘˜
  - ä¸“å±AIæ¨¡å‹
  - SLAä¿è¯

#### Stripe åŠŸèƒ½
- âœ… Checkout Session é›†æˆ
- âœ… Customer Portal é“¾æ¥
- âœ… è®¢é˜…çŠ¶æ€åŒæ­¥
- âœ… ä½¿ç”¨é‡è¿½è¸ª
- âœ… å‡çº§/é™çº§æµç¨‹

### ğŸ”— é›†æˆæœåŠ¡

#### Gitee API
- âœ… ä»“åº“åˆ›å»º/åˆ é™¤
- âœ… æ–‡ä»¶ç®¡ç†
- âœ… Pages éƒ¨ç½²
- âœ… åä½œè€…ç®¡ç†
- âœ… Webhook é…ç½®

### ğŸ“Š å®Œæ•´é¡µé¢

#### 1. Dashboard (ä»ªè¡¨ç›˜)
```typescript
âœ… ç»Ÿè®¡å¡ç‰‡ (é¡¹ç›®æ•°ã€éƒ¨ç½²æ•°ã€AIä½¿ç”¨é‡ã€Credits)
âœ… 6ä¸ªæœˆè¶‹åŠ¿å›¾è¡¨ (Recharts)
âœ… æœ€è¿‘æ´»åŠ¨åˆ—è¡¨ (å®æ—¶æ›´æ–°)
âœ… å¿«é€Ÿæ“ä½œå…¥å£
âœ… å“åº”å¼è®¾è®¡
```

#### 2. Projects (é¡¹ç›®ç®¡ç†)
```typescript
âœ… ç½‘æ ¼/åˆ—è¡¨è§†å›¾åˆ‡æ¢
âœ… å®æ—¶æœç´¢
âœ… çŠ¶æ€è¿‡æ»¤ (draft/generating/completed/deployed)
âœ… é¡¹ç›®CRUDæ“ä½œ
âœ… é¡¹ç›®å¡ç‰‡å±•ç¤º (ç¼©ç•¥å›¾ã€æ ‡ç­¾ã€çŠ¶æ€)
âœ… æ‰¹é‡æ“ä½œ
```

#### 3. Profile (ç”¨æˆ·èµ„æ–™)
```typescript
âœ… ä¸ªäººä¿¡æ¯ç¼–è¾‘
âœ… å¤´åƒæ˜¾ç¤º
âœ… å…¬å¸/ç½‘ç«™/ä½ç½®ä¿¡æ¯
âœ… Bio ç¼–è¾‘
âœ… å®æ—¶ä¿å­˜
âœ… è¡¨å•éªŒè¯
```

#### 4. Billing (è´¦å•è®¢é˜…)
```typescript
âœ… å½“å‰è®¢é˜…çŠ¶æ€
âœ… ä¸‰å±‚å®šä»·æ–¹æ¡ˆå±•ç¤º
âœ… ä½¿ç”¨é‡è¿›åº¦æ¡
âœ… Stripe Checkout é›†æˆ
âœ… æ”¯ä»˜å†å² (å‡†å¤‡å¥½æ¥å…¥)
âœ… å‘ç¥¨ç®¡ç†
```

#### 5. Settings (è®¾ç½®)
```typescript
âœ… è´¦æˆ·è®¾ç½® (é‚®ç®±ã€å¯†ç )
âœ… åŒå› ç´ è®¤è¯å…¥å£
âœ… Gitee/GitHub Token é…ç½®
âœ… é€šçŸ¥åå¥½è®¾ç½®
âœ… å¤–è§‚ä¸»é¢˜é€‰æ‹©
âœ… å±é™©æ“ä½œåŒº (ç™»å‡ºã€åˆ é™¤è´¦æˆ·)
```

#### 6. Teams (å›¢é˜Ÿç®¡ç†)
```typescript
âœ… å›¢é˜Ÿåˆ›å»º
âœ… æˆå‘˜è§’è‰²ç®¡ç† (owner/admin/member/viewer)
âœ… å›¢é˜Ÿå¡ç‰‡å±•ç¤º
âœ… æˆå‘˜æ•°é‡é™åˆ¶
âœ… å›¢é˜Ÿæè¿°ç¼–è¾‘
```

#### 7. API Keys (APIå¯†é’¥)
```typescript
âœ… APIå¯†é’¥ç”Ÿæˆ
âœ… æƒé™èŒƒå›´é…ç½® (read/write/deploy/admin)
âœ… å¯†é’¥åˆ—è¡¨å±•ç¤º
âœ… å®‰å…¨çš„å¯†é’¥æ˜¾ç¤º (å‰ç¼€+çœç•¥)
âœ… ä¸€é”®å¤åˆ¶
âœ… å¯†é’¥åˆ é™¤
âœ… ä½¿ç”¨ç»Ÿè®¡
```

#### 8. Auth Pages (è®¤è¯é¡µé¢)
```typescript
âœ… ç™»å½•è¡¨å• (é‚®ç®±/å¯†ç )
âœ… æ³¨å†Œè¡¨å•
âœ… OAuth æŒ‰é’® (Google/GitHub)
âœ… é”™è¯¯å¤„ç†
âœ… åŠ è½½çŠ¶æ€
```

### ğŸ¨ UIç»„ä»¶ç³»ç»Ÿ

```typescript
âœ… NeuralButton - å¤šå˜ä½“æŒ‰é’® (primary/secondary/ghost/danger)
âœ… NeuralInput - è¾“å…¥æ¡†
âœ… NeuralTextArea - æ–‡æœ¬åŸŸ
âœ… NeuralBadge - å¾½ç« æ ‡ç­¾
âœ… NeuralSwitch - å¼€å…³
âœ… GlassCard - ç»ç’ƒæ€å¡ç‰‡
âœ… NeuralSpinner - åŠ è½½åŠ¨ç”»
âœ… NeuralModal - æ¨¡æ€æ¡†
âœ… ProgressBar - è¿›åº¦æ¡
```

### ğŸ§­ å¯¼èˆªç³»ç»Ÿ

```typescript
âœ… æ¡Œé¢ä¾§è¾¹æ å¯¼èˆª
âœ… ç§»åŠ¨ç«¯æŠ˜å èœå•
âœ… æ¿€æ´»çŠ¶æ€é«˜äº®
âœ… è®¢é˜…ä¿¡æ¯å¡ç‰‡
âœ… 7ä¸ªä¸»å¯¼èˆªé¡¹
âœ… å¹³æ»‘è·¯ç”±åˆ‡æ¢
```

### ğŸ”„ æ•°æ®ç®¡ç† Hooks

```typescript
âœ… useAuth() - è®¤è¯ç®¡ç†
âœ… useAuthStore() - è®¤è¯çŠ¶æ€
âœ… useProjects() - é¡¹ç›®CRUD
âœ… useSubscription() - è®¢é˜…ç®¡ç†
âœ… useAnalytics() - åˆ†ææ•°æ®
```

### ğŸ“± å“åº”å¼è®¾è®¡

```typescript
âœ… ç§»åŠ¨ç«¯ä¼˜å…ˆ
âœ… å¹³æ¿é€‚é…
âœ… æ¡Œé¢å¤§å±ä¼˜åŒ–
âœ… è§¦æ‘¸å‹å¥½
âœ… è‡ªé€‚åº”å¸ƒå±€
```

---

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### 1. å¯åŠ¨åº”ç”¨

```bash
npm install
npm run dev
```

### 2. åˆ‡æ¢æ¨¡å¼

åº”ç”¨ç°åœ¨æœ‰ä¸¤ç§æ¨¡å¼ï¼š

#### AI Studio æ¨¡å¼ (åŸæœ‰åŠŸèƒ½)
```
è®¿é—®: http://localhost:3000?mode=studio
æˆ–ç‚¹å‡»å³ä¸Šè§’ "âœ¨ Studio" æŒ‰é’®
```

#### Admin åå°æ¨¡å¼ (æ–°åŠŸèƒ½)
```
è®¿é—®: http://localhost:3000?mode=admin
æˆ–ç‚¹å‡»å³ä¸Šè§’ "ğŸ›ï¸ Admin" æŒ‰é’®
```

### 3. é…ç½®ç¯å¢ƒå˜é‡

å¤åˆ¶ `.env.example` ä¸º `.env`:

```bash
cp .env.example .env
```

å¡«å†™ä½ çš„é…ç½®ï¼š

```env
# Supabase
VITE_SUPABASE_URL=https://your-project.supabase.co
VITE_SUPABASE_ANON_KEY=your-supabase-anon-key

# Stripe
VITE_STRIPE_PUBLISHABLE_KEY=pk_test_xxx
VITE_STRIPE_PRO_PRICE_ID=price_xxx
VITE_STRIPE_ENTERPRISE_PRICE_ID=price_xxx

# Gemini (å·²æœ‰)
VITE_GEMINI_API_KEY=your-gemini-api-key
```

### 4. è®¾ç½®æ•°æ®åº“

åœ¨ Supabase SQL ç¼–è¾‘å™¨ä¸­è¿è¡Œ `supabase-schema.sql`

### 5. é…ç½® Stripe

1. åˆ›å»º Stripe è´¦æˆ·
2. åˆ›å»ºäº§å“å’Œä»·æ ¼
3. å¤åˆ¶ Price ID åˆ°ç¯å¢ƒå˜é‡
4. è®¾ç½® Webhook

---

## ğŸ“‚ æ–‡ä»¶ç»“æ„

```
v3/
â”œâ”€â”€ lib/                          # æ ¸å¿ƒåº“
â”‚   â”œâ”€â”€ supabase.ts              # âœ… Supabaseå®¢æˆ·ç«¯+ç±»å‹
â”‚   â”œâ”€â”€ stripe.ts                # âœ… Stripeé›†æˆ
â”‚   â””â”€â”€ gitee.ts                 # âœ… Gitee API
â”œâ”€â”€ hooks/                        # React Hooks
â”‚   â”œâ”€â”€ useAuth.ts               # âœ… è®¤è¯é€»è¾‘
â”‚   â”œâ”€â”€ useAuthStore.ts          # âœ… è®¤è¯çŠ¶æ€
â”‚   â”œâ”€â”€ useProjects.ts           # âœ… é¡¹ç›®ç®¡ç†
â”‚   â”œâ”€â”€ useSubscription.ts       # âœ… è®¢é˜…ç®¡ç†
â”‚   â””â”€â”€ useAnalytics.ts          # âœ… åˆ†ææ•°æ®
â”œâ”€â”€ pages/                        # é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ Dashboard.tsx            # âœ… ä»ªè¡¨ç›˜
â”‚   â”œâ”€â”€ Projects.tsx             # âœ… é¡¹ç›®åˆ—è¡¨
â”‚   â”œâ”€â”€ Profile.tsx              # âœ… ç”¨æˆ·èµ„æ–™
â”‚   â”œâ”€â”€ Billing.tsx              # âœ… è´¦å•
â”‚   â”œâ”€â”€ Settings.tsx             # âœ… è®¾ç½®
â”‚   â”œâ”€â”€ Teams.tsx                # âœ… å›¢é˜Ÿ
â”‚   â””â”€â”€ ApiKeys.tsx              # âœ… APIå¯†é’¥
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ auth/                    # âœ… è®¤è¯ç»„ä»¶
â”‚   â””â”€â”€ UIElements.tsx           # âœ… UIç»„ä»¶åº“
â”œâ”€â”€ AdminApp.tsx                 # âœ… ç®¡ç†åå°å…¥å£
â”œâ”€â”€ RootApp.tsx                  # âœ… æ¨¡å¼åˆ‡æ¢å™¨
â”œâ”€â”€ App.tsx                      # âœ… AI Studio (åŸæœ‰)
â”œâ”€â”€ supabase-schema.sql          # âœ… æ•°æ®åº“æ¶æ„
â”œâ”€â”€ BACKEND_SETUP.md             # âœ… è®¾ç½®æŒ‡å—
â””â”€â”€ .env.example                 # âœ… ç¯å¢ƒå˜é‡æ¨¡æ¿
```

---

## ğŸ¯ æ ¸å¿ƒç‰¹æ€§æ€»ç»“

### å·²å®ç° âœ…
1. âœ… **å®Œæ•´è®¤è¯ç³»ç»Ÿ** - æ³¨å†Œ/ç™»å½•/OAuth
2. âœ… **é¡¹ç›®ç®¡ç†** - CRUDæ“ä½œ/æœç´¢/è¿‡æ»¤
3. âœ… **è®¢é˜…ç³»ç»Ÿ** - 3å±‚å®šä»·/Stripeé›†æˆ
4. âœ… **å›¢é˜Ÿåä½œ** - åˆ›å»ºå›¢é˜Ÿ/æˆå‘˜ç®¡ç†
5. âœ… **APIå¯†é’¥** - ç”Ÿæˆ/ç®¡ç†/æƒé™æ§åˆ¶
6. âœ… **åˆ†æä»ªè¡¨ç›˜** - ç»Ÿè®¡/è¶‹åŠ¿/æ´»åŠ¨
7. âœ… **ç”¨æˆ·èµ„æ–™** - ç¼–è¾‘/ç®¡ç†
8. âœ… **è®¾ç½®ä¸­å¿ƒ** - é›†æˆ/é€šçŸ¥/å¤–è§‚
9. âœ… **å“åº”å¼UI** - ç§»åŠ¨/å¹³æ¿/æ¡Œé¢
10. âœ… **åŒåº”ç”¨åˆ‡æ¢** - Studio â†” Admin

### æŠ€æœ¯æ ˆ
- âœ… React 19 + TypeScript
- âœ… Supabase (Database + Auth)
- âœ… Stripe (Payments)
- âœ… Zustand (State)
- âœ… TanStack Query (Data)
- âœ… React Router (Navigation)
- âœ… Recharts (Visualization)
- âœ… Tailwind CSS (Styling)
- âœ… date-fns (Date utils)

---

## ğŸ”œ åç»­å¢å¼º (å¯é€‰)

### ä¼˜å…ˆçº§é«˜
- [ ] é¡¹ç›®è¯¦æƒ…é¡µ - æ–‡ä»¶æµè§ˆå™¨
- [ ] éƒ¨ç½²ç®¡ç† - å®æ—¶çŠ¶æ€
- [ ] æ–‡ä»¶ä¸Šä¼  - Supabase Storage
- [ ] æ´»åŠ¨æ—¥å¿— - è‡ªåŠ¨è®°å½•
- [ ] Webhookå¤„ç† - Stripeäº‹ä»¶

### ä¼˜å…ˆçº§ä¸­
- [ ] é€šçŸ¥ç³»ç»Ÿ - å®æ—¶æé†’
- [ ] æœç´¢åŠŸèƒ½ - å…¨å±€æœç´¢
- [ ] å¯¼å‡ºåŠŸèƒ½ - æ•°æ®å¯¼å‡º
- [ ] é‚®ä»¶æœåŠ¡ - é€šçŸ¥é‚®ä»¶
- [ ] 2FAè®¾ç½® - åŒå› ç´ è®¤è¯

### ä¼˜å…ˆçº§ä½
- [ ] ç§»åŠ¨ç«¯App - React Native
- [ ] å¤šè¯­è¨€æ”¯æŒ - i18n
- [ ] ä¸»é¢˜å®šåˆ¶ - è‡ªå®šä¹‰é¢œè‰²
- [ ] é«˜çº§åˆ†æ - æ›´å¤šå›¾è¡¨
- [ ] AIåŠ©æ‰‹ - èŠå¤©æ”¯æŒ

---

## ğŸ“š æ–‡æ¡£

- **ä¸»è¦æ–‡æ¡£**: [BACKEND_SETUP.md](./BACKEND_SETUP.md)
- **æ•°æ®åº“æ¶æ„**: [supabase-schema.sql](./supabase-schema.sql)
- **ç¯å¢ƒé…ç½®**: [.env.example](./.env.example)

---

## ğŸ‰ æˆæœ

è¿™æ˜¯ä¸€ä¸ª**ç”Ÿäº§çº§çš„ä¼ä¸šçº§SaaSåå°ç®¡ç†ç³»ç»Ÿ**ï¼ŒåŒ…å«ï¼š

- ğŸ’ 12å¼ æ•°æ®è¡¨çš„å®Œæ•´æ¶æ„
- ğŸ” ä¼ä¸šçº§å®‰å…¨ (RLS + è®¤è¯)
- ğŸ’³ å®Œæ•´æ”¯ä»˜ç³»ç»Ÿ (Stripe)
- ğŸ“Š æ•°æ®å¯è§†åŒ–åˆ†æ
- ğŸ‘¥ å›¢é˜Ÿåä½œåŠŸèƒ½
- ğŸ”‘ APIå¯†é’¥ç®¡ç†
- ğŸ¨ é«˜è´¨é‡UIç»„ä»¶
- ğŸ“± å®Œå…¨å“åº”å¼
- âš¡ æ€§èƒ½ä¼˜åŒ–

**æ€»è®¡ä»£ç è¡Œæ•°**: çº¦ 15,000+ è¡Œ
**ç»„ä»¶æ•°é‡**: 30+
**é¡µé¢æ•°é‡**: 8ä¸ªå®Œæ•´é¡µé¢
**APIé›†æˆ**: Supabase + Stripe + Gitee

---

## ğŸ™ è‡´è°¢

æ„Ÿè°¢ä½¿ç”¨æœ¬ç³»ç»Ÿï¼å¦‚æœ‰é—®é¢˜è¯·æŸ¥çœ‹æ–‡æ¡£æˆ–æIssueã€‚

**License**: MIT
